<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: user/User.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: user/User.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Represents a User.
 */
class User {
  /**
   * Constructor for User.
   * @constructor
   * @param {DataBase} db - A reference to the database instance.
   */
  constructor(db) {
    this.db = db;
  }

  /**
   * Gets user by ID
   * @param {string} id - The ID of the user.
   * @returns {object} - A user.
   */
  getUserById(id) {
    return this.db.getUserById(id);
  }

  /**
   * Gets user by email
   * @param {string} id - The email of the user.
   * @returns {object} - A user.
   */
  getUserByEmail(email) {
    return this.db.getUserByEmail(email);
  }

  /**
   * Gets all users
   * @returns {Array} - All users.
   */
  getUsers() {
    return this.db.getUsers();
  }

  /**
   * Adds a user
   * @param {string} firstName - the first name of the user
   * @param {string} lastName - the last name of the user
   * @param {string} phone - the phone number of the user
   * @param {string} email - the email of the user
   * @param {string} password - the password of the user
   * @param {string} permissions - the permissions the user has
   * @param {DateTime} modified_date - the date the user was last modified
   * @param {string} modified_by - the identifer of the user who modified this user
   * @param {string} paymentMethod - the payment method of the user
   * @param {Array} vehicles - the vehicles that the user plans to make reservations for
   */
  addUser({
    firstName,
    lastName,
    phone,
    email,
    password,
    permissions,
    modified_date,
    modified_by,
    paymentMethod,
    vehicles,
  }) {
    this.db.addUser({
      firstName: firstName,
      lastName: lastName,
      phone: phone,
      email: email,
      password: password,
      permissions: permissions,
      modified_date: modified_date,
      modified_by: modified_by,
      paymentMethod: paymentMethod,
      vehicles: vehicles,
    });
  }

  /**
   * Updates the current user
   * @param {object} user - The current User
   * @returns {object} - The updated user
   */
  updateUser(user) {
    return this.db.updateUser(user);
  }

  /**
   * Authenticates the current user
   * @param {object} user - The current User
   * @param {string} password - The users password
   * @returns {object} - If the user password and username are correct
   */
  authenticateUser(email, password) {
    return this.db.authenticateUser;
  }

  /**
   * Result is attached to the session as req.session.passport.user
   *
   * @returns {function} Callback function:
   * @param {string} id - _id stored in mongodb
   * @param {function} done - called internally by strategy implementation
   * @memberof User
   */
  serializeUser() {
    return function (user, done) {
      done(null, user._id);
    };
  }

  /**
   * In ID is used to find the user, which is then restored in req.user
   *
   * @returns {function} Async callback function:
   * @param {string} id - Corresponds to _id in mongo database
   * @param {function} done - called internally by strategy implementation
   * @memberof User
   */
  deserializeUser() {
    return async function (id, done) {
      const user = await this.getUserById(id);
      done(null, user);
    }.bind(this);
  }
}

module.exports = User;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-routes_reservations.html">routes/reservations</a></li><li><a href="module-routes_users.html">routes/users</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-routes_reservations-reservationRouter.html">reservationRouter</a></li><li><a href="module-routes_users-usersRouter.html">usersRouter</a></li></ul><h3>Classes</h3><ul><li><a href="Database.html">Database</a></li><li><a href="ParkingLot.html">ParkingLot</a></li><li><a href="Reservation.html">Reservation</a></li><li><a href="User.html">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Nov 01 2020 21:44:43 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
